{% extends "base.html" %}

{% block content %}
<div style="display: flex; gap: 20px; flex-wrap: wrap; margin-bottom: 30px;">
    <div class="glass-card stat-card" style="flex: 1; text-align: center;">
        <h3 style="margin: 0; color: #777;">æ€»ç”¨æˆ·æ•°</h3>
        <p style="font-size: 2.5em; margin: 10px 0; color: var(--deep-pink); font-weight: bold;">{{ user_count }}</p>
    </div>
    <div class="glass-card stat-card" style="flex: 1; text-align: center;">
        <h3 style="margin: 0; color: #777;">å¤„ç†æ¶ˆæ¯</h3>
        <p style="font-size: 2.5em; margin: 10px 0; color: #66ccff; font-weight: bold;">{{ msg_count }}</p>
    </div>
</div>

<div class="glass-card">
    <h2 style="margin-top: 0; margin-bottom: 20px; border-left: 5px solid var(--deep-pink); padding-left: 10px;">ğŸ‘¤
        æœ€è¿‘ç”¨æˆ·è®¿é—®</h2>
    <div style="overflow-x: auto;">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>æ˜µç§°</th>
                    <th>çŠ¶æ€</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td><code
                            style="background: rgba(255,255,255,0.5); padding: 2px 5px; border-radius: 4px;">{{ user.id }}</code>
                    </td>
                    <td>{{ user.first_name }}</td>
                    <td>
                        {% if user.is_verified %}<span style="color: green;">âœ… å·²éªŒè¯</span>
                        {% else %}<span style="color: #aaa;">âšª æœªéªŒè¯</span>{% endif %}
                    </td>
                    <td>
                        {% if user.is_banned %}
                        <span style="color: red; font-weight: bold;">ğŸš« Banned</span>
                        <form action="/unban_user" method="post" style="display:inline;">
                            <input type="hidden" name="user_id" value="{{ user.id }}">
                            <button type="submit" class="btn btn-danger"
                                style="padding: 2px 8px; font-size: 0.8em;">è§£å°</button>
                        </form>
                        {% else %}
                        <form action="/ban_user" method="post" style="display:inline;">
                            <input type="hidden" name="user_id" value="{{ user.id }}">
                            <button type="submit" class="btn btn-danger"
                                style="padding: 2px 8px; font-size: 0.8em; background: #ffdede; color: red; box-shadow: none;">å°ç¦</button>
                        </form>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}